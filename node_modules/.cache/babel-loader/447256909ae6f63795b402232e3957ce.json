{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/Alias/weboldal/web-login/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import styles from'../styles/components/Layout.module.css';import{useSignOut,useUserId}from'@nhost/react';import{Fragment}from'react';import{Outlet,Link}from'react-router-dom';import{Menu,Transition}from'@headlessui/react';import{useUserData}from'@nhost/react';import{gql,useQuery}from'@apollo/client';import{ChevronDownIcon,HomeIcon,LogoutIcon,UserIcon}from'@heroicons/react/outline';import Avatar from'./Avatar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GET_USER_QUERY=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  query GetUser($id: uuid!) {\\n    user(id: $id) {\\n      id\\n      email\\n      displayName\\n      metadata\\n      avatarUrl\\n    }\\n  }\\n\"])));var Layout=function Layout(){var id=useUserId();var _useQuery=useQuery(GET_USER_QUERY,{variables:{id:id}}),loading=_useQuery.loading,error=_useQuery.error;var user=useUserData();//...\nvar _useSignOut=useSignOut(),signOut=_useSignOut.signOut;var menuItems=[{label:'Versenyek',href:'/',icon:HomeIcon},{label:'Profile',href:'/profile',icon:UserIcon},{label:'Logout',onClick:signOut,icon:LogoutIcon}];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{className:styles.header,children:/*#__PURE__*/_jsxs(\"div\",{className:styles['header-container'],children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+'logo.svg',alt:\"logo\"})}),/*#__PURE__*/_jsxs(Menu,{as:\"div\",className:styles.menu,children:[/*#__PURE__*/_jsxs(Menu.Button,{className:styles['menu-button'],children:[/*#__PURE__*/_jsx(Avatar,{src:user===null||user===void 0?void 0:user.avatarUrl,alt:user===null||user===void 0?void 0:user.displayName}),/*#__PURE__*/_jsx(ChevronDownIcon,{})]}),/*#__PURE__*/_jsx(Transition,{as:Fragment,enter:styles['menu-transition-enter'],enterFrom:styles['menu-transition-enter-from'],enterTo:styles['menu-transition-enter-to'],leave:styles['menu-transition-leave'],leaveFrom:styles['menu-transition-leave-from'],leaveTo:styles['menu-transition-leave-to'],children:/*#__PURE__*/_jsxs(Menu.Items,{className:styles['menu-items-container'],children:[/*#__PURE__*/_jsxs(\"div\",{className:styles['menu-header'],children:[/*#__PURE__*/_jsx(Avatar,{src:user===null||user===void 0?void 0:user.avatarUrl,alt:user===null||user===void 0?void 0:user.displayName}),/*#__PURE__*/_jsxs(\"div\",{className:styles['user-details'],children:[/*#__PURE__*/_jsx(\"span\",{children:user===null||user===void 0?void 0:user.displayName}),/*#__PURE__*/_jsx(\"span\",{className:styles['user-email'],children:user===null||user===void 0?void 0:user.email})]})]}),/*#__PURE__*/_jsx(\"div\",{className:styles['menu-items'],children:menuItems.map(function(_ref){var label=_ref.label,href=_ref.href,onClick=_ref.onClick,Icon=_ref.icon;return/*#__PURE__*/_jsx(\"div\",{className:styles['menu-item'],children:/*#__PURE__*/_jsx(Menu.Item,{children:href?/*#__PURE__*/_jsxs(Link,{to:href,children:[/*#__PURE__*/_jsx(Icon,{}),/*#__PURE__*/_jsx(\"span\",{children:label})]}):/*#__PURE__*/_jsxs(\"button\",{onClick:onClick,children:[/*#__PURE__*/_jsx(Icon,{}),/*#__PURE__*/_jsx(\"span\",{children:label})]})})},label);})})]})})]})]})}),/*#__PURE__*/_jsx(\"main\",{className:styles.main,children:/*#__PURE__*/_jsx(\"div\",{className:styles['main-container'],children:error?/*#__PURE__*/_jsx(\"p\",{children:\"Something wnt wrong.\"}):!loading?/*#__PURE__*/_jsx(Outlet,{context:{user:user}}):null})})]});};export default Layout;","map":{"version":3,"names":["styles","useSignOut","useUserId","Fragment","Outlet","Link","Menu","Transition","useUserData","gql","useQuery","ChevronDownIcon","HomeIcon","LogoutIcon","UserIcon","Avatar","GET_USER_QUERY","Layout","id","variables","loading","error","user","signOut","menuItems","label","href","icon","onClick","header","process","env","PUBLIC_URL","menu","avatarUrl","displayName","email","map","Icon","main"],"sources":["C:/Users/Alias/weboldal/web-login/src/components/Layout.js"],"sourcesContent":["import styles from '../styles/components/Layout.module.css';\nimport { useSignOut, useUserId } from '@nhost/react'\nimport { Fragment } from 'react';\nimport { Outlet, Link } from 'react-router-dom';\nimport { Menu, Transition } from '@headlessui/react';\n\nimport { useUserData } from '@nhost/react'\n\nimport { gql, useQuery } from '@apollo/client'\n\n\nimport {\n  ChevronDownIcon,\n  HomeIcon,\n  LogoutIcon,\n  UserIcon,\n} from '@heroicons/react/outline';\nimport Avatar from './Avatar';\n\nconst GET_USER_QUERY = gql`\n  query GetUser($id: uuid!) {\n    user(id: $id) {\n      id\n      email\n      displayName\n      metadata\n      avatarUrl\n    }\n  }\n`;\n\n\n\n\nconst Layout = () => {\n  const id = useUserId();\n  const { loading, error } = useQuery(GET_USER_QUERY, {\n    variables: {id},\n  });\n\n  const user = useUserData()\n  //...\n\n \n  const { signOut } = useSignOut()\n  const menuItems = [\n    {\n      label: 'Versenyek',\n      href: '/',\n      icon: HomeIcon,\n    },\n    {\n      label: 'Profile',\n      href: '/profile',\n      icon: UserIcon,\n    },\n    {\n      label: 'Logout',\n      onClick: signOut,\n      icon: LogoutIcon\n    }\n  ]\n\n \n  \n\n\n\n\n  return (\n    <div>\n      <header className={styles.header}>\n        <div className={styles['header-container']}>\n          <Link to=\"/\">\n            <img src={process.env.PUBLIC_URL + 'logo.svg'} alt=\"logo\" />\n          </Link>\n\n          <Menu as=\"div\" className={styles.menu}>\n            <Menu.Button className={styles['menu-button']}>\n              <Avatar src={user?.avatarUrl} alt={user?.displayName} />\n              <ChevronDownIcon />\n            </Menu.Button>\n            <Transition\n              as={Fragment}\n              enter={styles['menu-transition-enter']}\n              enterFrom={styles['menu-transition-enter-from']}\n              enterTo={styles['menu-transition-enter-to']}\n              leave={styles['menu-transition-leave']}\n              leaveFrom={styles['menu-transition-leave-from']}\n              leaveTo={styles['menu-transition-leave-to']}\n            >\n              <Menu.Items className={styles['menu-items-container']}>\n                <div className={styles['menu-header']}>\n                  <Avatar src={user?.avatarUrl} alt={user?.displayName} />\n                  <div className={styles['user-details']}>\n                    <span>{user?.displayName}</span>\n                    <span className={styles['user-email']}>{user?.email}</span>\n                  </div>\n                </div>\n\n                <div className={styles['menu-items']}>\n                  {menuItems.map(({ label, href, onClick, icon: Icon }) => (\n                    <div key={label} className={styles['menu-item']}>\n                      <Menu.Item>\n                        {href ? (\n                          <Link to={href}>\n                            <Icon />\n                            <span>{label}</span>\n                          </Link>\n                        ) : (\n                          <button onClick={onClick}>\n                            <Icon />\n                            <span>{label}</span>\n                          </button>\n                        )}\n                      </Menu.Item>\n                    </div>\n                  ))}\n                </div>\n              </Menu.Items>\n            </Transition>\n          </Menu>\n        </div>\n      </header>\n\n      <main className={styles.main}>\n        <div className={styles['main-container']}>\n          {error ? (\n            <p>Something wnt wrong.</p>\n          ) : ! loading ? (\n            <Outlet context={{ user }} />\n          ) : null }\n          \n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default Layout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}