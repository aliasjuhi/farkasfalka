{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Alias\\\\weboldal\\\\web-login\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$(),\n  _user$metadata$firstN,\n  _user$metadata,\n  _user$metadata$lastNa,\n  _user$metadata2,\n  _user$metadata3,\n  _user$metadata4;\nimport styles from '../styles/pages/Profile.module.css';\nimport { useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useOutletContext } from 'react-router-dom';\nimport Input from '../components/Input';\nimport { gql, useMutation } from '@apollo/client';\nimport { toast } from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const [mutateUser, {\n    loading: updatingProfile\n  }] = useMutation(UPDATE_USER_MUTATION);\n  const updateUserProfile = async e => {\n    e.preventDefault();\n    try {\n      await mutateUser({\n        variables: {\n          id: user.id,\n          displayName: `${firstName} ${lastName}`.trim(),\n          metadata: {\n            firstName,\n            lastName\n          }\n        }\n      });\n      toast.success('Updated successfully', {\n        id: 'updateProfile'\n      });\n    } catch (error) {\n      toast.error('Unable to update profile', {\n        id: 'updateProfile'\n      });\n    }\n  };\n\n  //...\n};\n_s(Profile, \"dfyD6Vx8/cfOlezvlXg3DXnShAQ=\", false, function () {\n  return [useMutation];\n});\n_c = Profile;\nconst {\n  user\n} = useOutletContext();\nconst [firstName, setFirstName] = useState((_user$metadata$firstN = user === null || user === void 0 ? void 0 : (_user$metadata = user.metadata) === null || _user$metadata === void 0 ? void 0 : _user$metadata.firstName) !== null && _user$metadata$firstN !== void 0 ? _user$metadata$firstN : '');\nconst [lastName, setLastName] = useState((_user$metadata$lastNa = user === null || user === void 0 ? void 0 : (_user$metadata2 = user.metadata) === null || _user$metadata2 === void 0 ? void 0 : _user$metadata2.lastName) !== null && _user$metadata$lastNa !== void 0 ? _user$metadata$lastNa : '');\nconst isFirstNameDirty = firstName !== (user === null || user === void 0 ? void 0 : (_user$metadata3 = user.metadata) === null || _user$metadata3 === void 0 ? void 0 : _user$metadata3.firstName);\nconst isLastNameDirty = lastName !== (user === null || user === void 0 ? void 0 : (_user$metadata4 = user.metadata) === null || _user$metadata4 === void 0 ? void 0 : _user$metadata4.lastName);\nconst isProfileFormDirty = isFirstNameDirty || isLastNameDirty;\nconst updateUserProfile = async e => {\n  e.preventDefault();\n};\n/*#__PURE__*/_jsxDEV(_Fragment, {\n  children: [/*#__PURE__*/_jsxDEV(Helmet, {\n    children: /*#__PURE__*/_jsxDEV(\"title\", {\n      children: \"Profile - Nhost\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 7\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.info,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Update your personal information.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.card,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: updateUserProfile,\n        className: styles.form,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['form-fields'],\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles['input-group'],\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              type: \"text\",\n              label: \"First name\",\n              value: firstName,\n              onChange: e => setFirstName(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Input, {\n              type: \"text\",\n              label: \"Last name\",\n              value: lastName,\n              onChange: e => setLastName(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles['input-email-wrapper'],\n            children: /*#__PURE__*/_jsxDEV(Input, {\n              type: \"email\",\n              label: \"Email address\",\n              value: user === null || user === void 0 ? void 0 : user.email,\n              readOnly: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles['form-footer'],\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: !isProfileFormDirty,\n            className: styles.button,\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 7\n  }, this)]\n}, void 0, true);\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["styles","useState","Helmet","useOutletContext","Input","gql","useMutation","toast","Profile","mutateUser","loading","updatingProfile","UPDATE_USER_MUTATION","updateUserProfile","e","preventDefault","variables","id","user","displayName","firstName","lastName","trim","metadata","success","error","setFirstName","setLastName","isFirstNameDirty","isLastNameDirty","isProfileFormDirty","container","info","card","form","target","value","email","button"],"sources":["C:/Users/Alias/weboldal/web-login/src/pages/Profile.js"],"sourcesContent":["import styles from '../styles/pages/Profile.module.css';\n\nimport { useState } from 'react';\nimport { Helmet } from 'react-helmet';\nimport { useOutletContext } from 'react-router-dom';\nimport Input from '../components/Input';\n\n\n\n\nimport { gql, useMutation } from '@apollo/client'\nimport { toast } from 'react-hot-toast'\n\n\n\n\nconst Profile = () => {\n  const [mutateUser, { loading: updatingProfile }] = useMutation(UPDATE_USER_MUTATION)\n\n  const updateUserProfile = async (e) => {\n    e.preventDefault()\n\n    try {\n      await mutateUser({\n        variables: {\n          id: user.id,\n          displayName: `${firstName} ${lastName}`.trim(),\n          metadata: {\n            firstName,\n            lastName\n          }\n        }\n      })\n      toast.success('Updated successfully', { id: 'updateProfile' })\n    } catch (error) {\n      toast.error('Unable to update profile', { id: 'updateProfile' })\n    }\n  }\n\n  //...\n}\n  const { user } = useOutletContext();\n\n  const [firstName, setFirstName] = useState(user?.metadata?.firstName ?? '');\n  const [lastName, setLastName] = useState(user?.metadata?.lastName ?? '');\n\n  const isFirstNameDirty = firstName !== user?.metadata?.firstName;\n  const isLastNameDirty = lastName !== user?.metadata?.lastName;\n  const isProfileFormDirty = isFirstNameDirty || isLastNameDirty;\n\n  const updateUserProfile = async e => {\n    e.preventDefault();\n  };\n\n \n    <>\n      <Helmet>\n        <title>Profile - Nhost</title>\n      </Helmet>\n\n      <div className={styles.container}>\n        <div className={styles.info}>\n          <h2>Profile</h2>\n          <p>Update your personal information.</p>\n        </div>\n\n        <div className={styles.card}>\n          <form onSubmit={updateUserProfile} className={styles.form}>\n            <div className={styles['form-fields']}>\n              <div className={styles['input-group']}>\n                <Input\n                  type=\"text\"\n                  label=\"First name\"\n                  value={firstName}\n                  onChange={e => setFirstName(e.target.value)}\n                  required\n                />\n                <Input\n                  type=\"text\"\n                  label=\"Last name\"\n                  value={lastName}\n                  onChange={e => setLastName(e.target.value)}\n                  required\n                />\n              </div>\n              <div className={styles['input-email-wrapper']}>\n                <Input\n                  type=\"email\"\n                  label=\"Email address\"\n                  value={user?.email}\n                  readOnly\n                />\n              </div>\n            </div>\n\n            <div className={styles['form-footer']}>\n              <button\n                type=\"submit\"\n                disabled={!isProfileFormDirty}\n                className={styles.button}\n              >\n                Update\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </>\n\n\n\nexport default Profile;\n"],"mappings":";;;;;;;;AAAA,OAAOA,MAAM,MAAM,oCAAoC;AAEvD,SAASC,QAAQ,QAAQ,OAAO;AAChC,SAASC,MAAM,QAAQ,cAAc;AACrC,SAASC,gBAAgB,QAAQ,kBAAkB;AACnD,OAAOC,KAAK,MAAM,qBAAqB;AAKvC,SAASC,GAAG,EAAEC,WAAW,QAAQ,gBAAgB;AACjD,SAASC,KAAK,QAAQ,iBAAiB;AAAA;AAAA;AAKvC,MAAMC,OAAO,GAAG,MAAM;EAAA;EACpB,MAAM,CAACC,UAAU,EAAE;IAAEC,OAAO,EAAEC;EAAgB,CAAC,CAAC,GAAGL,WAAW,CAACM,oBAAoB,CAAC;EAEpF,MAAMC,iBAAiB,GAAG,MAAOC,CAAC,IAAK;IACrCA,CAAC,CAACC,cAAc,EAAE;IAElB,IAAI;MACF,MAAMN,UAAU,CAAC;QACfO,SAAS,EAAE;UACTC,EAAE,EAAEC,IAAI,CAACD,EAAE;UACXE,WAAW,EAAG,GAAEC,SAAU,IAAGC,QAAS,EAAC,CAACC,IAAI,EAAE;UAC9CC,QAAQ,EAAE;YACRH,SAAS;YACTC;UACF;QACF;MACF,CAAC,CAAC;MACFd,KAAK,CAACiB,OAAO,CAAC,sBAAsB,EAAE;QAAEP,EAAE,EAAE;MAAgB,CAAC,CAAC;IAChE,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACdlB,KAAK,CAACkB,KAAK,CAAC,0BAA0B,EAAE;QAAER,EAAE,EAAE;MAAgB,CAAC,CAAC;IAClE;EACF,CAAC;;EAED;AACF,CAAC;AAAA,GAxBKT,OAAO;EAAA,QACwCF,WAAW;AAAA;AAAA,KAD1DE,OAAO;AAyBX,MAAM;EAAEU;AAAK,CAAC,GAAGf,gBAAgB,EAAE;AAEnC,MAAM,CAACiB,SAAS,EAAEM,YAAY,CAAC,GAAGzB,QAAQ,0BAACiB,IAAI,aAAJA,IAAI,yCAAJA,IAAI,CAAEK,QAAQ,mDAAd,eAAgBH,SAAS,yEAAI,EAAE,CAAC;AAC3E,MAAM,CAACC,QAAQ,EAAEM,WAAW,CAAC,GAAG1B,QAAQ,0BAACiB,IAAI,aAAJA,IAAI,0CAAJA,IAAI,CAAEK,QAAQ,oDAAd,gBAAgBF,QAAQ,yEAAI,EAAE,CAAC;AAExE,MAAMO,gBAAgB,GAAGR,SAAS,MAAKF,IAAI,aAAJA,IAAI,0CAAJA,IAAI,CAAEK,QAAQ,oDAAd,gBAAgBH,SAAS;AAChE,MAAMS,eAAe,GAAGR,QAAQ,MAAKH,IAAI,aAAJA,IAAI,0CAAJA,IAAI,CAAEK,QAAQ,oDAAd,gBAAgBF,QAAQ;AAC7D,MAAMS,kBAAkB,GAAGF,gBAAgB,IAAIC,eAAe;AAE9D,MAAMhB,iBAAiB,GAAG,MAAMC,CAAC,IAAI;EACnCA,CAAC,CAACC,cAAc,EAAE;AACpB,CAAC;AAGC;EAAA,wBACE,QAAC,MAAM;IAAA,uBACL;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAA8B;IAAA;IAAA;IAAA;EAAA,QACvB,eAET;IAAK,SAAS,EAAEf,MAAM,CAAC+B,SAAU;IAAA,wBAC/B;MAAK,SAAS,EAAE/B,MAAM,CAACgC,IAAK;MAAA,wBAC1B;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAgB,eAChB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAwC;IAAA;MAAA;MAAA;MAAA;IAAA,QACpC,eAEN;MAAK,SAAS,EAAEhC,MAAM,CAACiC,IAAK;MAAA,uBAC1B;QAAM,QAAQ,EAAEpB,iBAAkB;QAAC,SAAS,EAAEb,MAAM,CAACkC,IAAK;QAAA,wBACxD;UAAK,SAAS,EAAElC,MAAM,CAAC,aAAa,CAAE;UAAA,wBACpC;YAAK,SAAS,EAAEA,MAAM,CAAC,aAAa,CAAE;YAAA,wBACpC,QAAC,KAAK;cACJ,IAAI,EAAC,MAAM;cACX,KAAK,EAAC,YAAY;cAClB,KAAK,EAAEoB,SAAU;cACjB,QAAQ,EAAEN,CAAC,IAAIY,YAAY,CAACZ,CAAC,CAACqB,MAAM,CAACC,KAAK,CAAE;cAC5C,QAAQ;YAAA;cAAA;cAAA;cAAA;YAAA,QACR,eACF,QAAC,KAAK;cACJ,IAAI,EAAC,MAAM;cACX,KAAK,EAAC,WAAW;cACjB,KAAK,EAAEf,QAAS;cAChB,QAAQ,EAAEP,CAAC,IAAIa,WAAW,CAACb,CAAC,CAACqB,MAAM,CAACC,KAAK,CAAE;cAC3C,QAAQ;YAAA;cAAA;cAAA;cAAA;YAAA,QACR;UAAA;YAAA;YAAA;YAAA;UAAA,QACE,eACN;YAAK,SAAS,EAAEpC,MAAM,CAAC,qBAAqB,CAAE;YAAA,uBAC5C,QAAC,KAAK;cACJ,IAAI,EAAC,OAAO;cACZ,KAAK,EAAC,eAAe;cACrB,KAAK,EAAEkB,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEmB,KAAM;cACnB,QAAQ;YAAA;cAAA;cAAA;cAAA;YAAA;UACR;YAAA;YAAA;YAAA;UAAA,QACE;QAAA;UAAA;UAAA;UAAA;QAAA,QACF,eAEN;UAAK,SAAS,EAAErC,MAAM,CAAC,aAAa,CAAE;UAAA,uBACpC;YACE,IAAI,EAAC,QAAQ;YACb,QAAQ,EAAE,CAAC8B,kBAAmB;YAC9B,SAAS,EAAE9B,MAAM,CAACsC,MAAO;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA;QAGlB;UAAA;UAAA;UAAA;QAAA,QACL;MAAA;QAAA;QAAA;QAAA;MAAA;IACD;MAAA;MAAA;MAAA;IAAA,QACH;EAAA;IAAA;IAAA;IAAA;EAAA,QACF;AAAA,gBACL;AAIP,eAAe9B,OAAO;AAAC;AAAA"},"metadata":{},"sourceType":"module"}