{"ast":null,"code":"import _taggedTemplateLiteral from \"C:\\\\Users\\\\Alias\\\\weboldal\\\\web-login\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/taggedTemplateLiteral\";\nvar _templateObject,\n  _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\Alias\\\\weboldal\\\\web-login\\\\src\\\\components\\\\Layout.js\";\nimport styles from '../styles/components/Layout.module.css';\nimport { useSignOut, useUserId } from '@nhost/react';\nimport { Fragment } from 'react';\nimport { Outlet, Link } from 'react-router-dom';\nimport { Menu, Transition } from '@headlessui/react';\nimport { useUserData } from '@nhost/react';\nimport { gql, useQuery } from '@apollo/client';\nimport { ChevronDownIcon, HomeIcon, LogoutIcon, UserIcon } from '@heroicons/react/outline';\nimport Avatar from './Avatar';\nvar GET_USER_QUERY = gql(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  query GetUser($id: uuid!) {\\n    user(id: $id) {\\n      id\\n      email\\n      displayName\\n      metadata\\n      avatarUrl\\n    }\\n  }\\n\"])));\nvar Layout = function Layout() {\n  var id = useUserId();\n  var _useQuery = useQuery(GET_USER_QUERY, {\n      variables: {\n        id: id\n      }\n    }),\n    loading = _useQuery.loading,\n    error = _useQuery.error;\n  var user = useUserData();\n  //...\n  var _useSignOut = useSignOut(),\n    signOut = _useSignOut.signOut;\n  var menuItems = [{\n    label: 'Versenyek',\n    href: '/',\n    icon: HomeIcon\n  }, {\n    label: 'Profile',\n    href: '/profile',\n    icon: UserIcon\n  }, {\n    label: 'Logout',\n    onClick: signOut,\n    icon: LogoutIcon\n  }];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: styles.header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['header-container'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: process.env.PUBLIC_URL + 'logo.svg',\n    alt: \"logo\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Menu, {\n    as: \"div\",\n    className: styles.menu,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Button, {\n    className: styles['menu-button'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    src: user?.avatarUrl,\n    alt: user?.displayName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(ChevronDownIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(Transition, {\n    as: Fragment,\n    enter: styles['menu-transition-enter'],\n    enterFrom: styles['menu-transition-enter-from'],\n    enterTo: styles['menu-transition-enter-to'],\n    leave: styles['menu-transition-leave'],\n    leaveFrom: styles['menu-transition-leave-from'],\n    leaveTo: styles['menu-transition-leave-to'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Items, {\n    className: styles['menu-items-container'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['menu-header'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    src: user?.avatarUrl,\n    alt: user?.displayName,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['user-details'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, user?.displayName), /*#__PURE__*/React.createElement(\"span\", {\n    className: styles['user-email'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 21\n    }\n  }, user?.email))), /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['menu-items'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, menuItems.map(function (_ref) {\n    var label = _ref.label,\n      href = _ref.href,\n      onClick = _ref.onClick,\n      Icon = _ref.icon;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: label,\n      className: styles['menu-item'],\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Menu.Item, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 23\n      }\n    }, href ? /*#__PURE__*/React.createElement(Link, {\n      to: href,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 29\n      }\n    }, label)) : /*#__PURE__*/React.createElement(\"button\", {\n      onClick: onClick,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(Icon, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 29\n      }\n    }, label))));\n  }))))))), /*#__PURE__*/React.createElement(\"main\", {\n    className: styles.main,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: styles['main-container'],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }, error ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, \"Something wnt wrong.\") : !loading ? /*#__PURE__*/React.createElement(Outlet, {\n    context: {\n      user: user\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }\n  }) : null)));\n};\nexport default Layout;","map":{"version":3,"names":["styles","useSignOut","useUserId","Fragment","Outlet","Link","Menu","Transition","useUserData","gql","useQuery","ChevronDownIcon","HomeIcon","LogoutIcon","UserIcon","Avatar","GET_USER_QUERY","Layout","id","variables","loading","error","user","signOut","menuItems","label","href","icon","onClick","header","process","env","PUBLIC_URL","menu","avatarUrl","displayName","email","map","Icon","main"],"sources":["C:/Users/Alias/weboldal/web-login/src/components/Layout.js"],"sourcesContent":["import styles from '../styles/components/Layout.module.css';\nimport { useSignOut, useUserId } from '@nhost/react'\nimport { Fragment } from 'react';\nimport { Outlet, Link } from 'react-router-dom';\nimport { Menu, Transition } from '@headlessui/react';\n\nimport { useUserData } from '@nhost/react'\n\nimport { gql, useQuery } from '@apollo/client'\n\n\nimport {\n  ChevronDownIcon,\n  HomeIcon,\n  LogoutIcon,\n  UserIcon,\n} from '@heroicons/react/outline';\nimport Avatar from './Avatar';\n\nconst GET_USER_QUERY = gql`\n  query GetUser($id: uuid!) {\n    user(id: $id) {\n      id\n      email\n      displayName\n      metadata\n      avatarUrl\n    }\n  }\n`;\n\n\n\n\nconst Layout = () => {\n  const id = useUserId();\n  const { loading, error } = useQuery(GET_USER_QUERY, {\n    variables: {id},\n  });\n\n  const user = useUserData()\n  //...\n\n \n  const { signOut } = useSignOut()\n  const menuItems = [\n    {\n      label: 'Versenyek',\n      href: '/',\n      icon: HomeIcon,\n    },\n    {\n      label: 'Profile',\n      href: '/profile',\n      icon: UserIcon,\n    },\n    {\n      label: 'Logout',\n      onClick: signOut,\n      icon: LogoutIcon\n    }\n  ]\n\n \n  \n\n\n\n\n  return (\n    <div>\n      <header className={styles.header}>\n        <div className={styles['header-container']}>\n          <Link to=\"/\">\n            <img src={process.env.PUBLIC_URL + 'logo.svg'} alt=\"logo\" />\n          </Link>\n\n          <Menu as=\"div\" className={styles.menu}>\n            <Menu.Button className={styles['menu-button']}>\n              <Avatar src={user?.avatarUrl} alt={user?.displayName} />\n              <ChevronDownIcon />\n            </Menu.Button>\n            <Transition\n              as={Fragment}\n              enter={styles['menu-transition-enter']}\n              enterFrom={styles['menu-transition-enter-from']}\n              enterTo={styles['menu-transition-enter-to']}\n              leave={styles['menu-transition-leave']}\n              leaveFrom={styles['menu-transition-leave-from']}\n              leaveTo={styles['menu-transition-leave-to']}\n            >\n              <Menu.Items className={styles['menu-items-container']}>\n                <div className={styles['menu-header']}>\n                  <Avatar src={user?.avatarUrl} alt={user?.displayName} />\n                  <div className={styles['user-details']}>\n                    <span>{user?.displayName}</span>\n                    <span className={styles['user-email']}>{user?.email}</span>\n                  </div>\n                </div>\n\n                <div className={styles['menu-items']}>\n                  {menuItems.map(({ label, href, onClick, icon: Icon }) => (\n                    <div key={label} className={styles['menu-item']}>\n                      <Menu.Item>\n                        {href ? (\n                          <Link to={href}>\n                            <Icon />\n                            <span>{label}</span>\n                          </Link>\n                        ) : (\n                          <button onClick={onClick}>\n                            <Icon />\n                            <span>{label}</span>\n                          </button>\n                        )}\n                      </Menu.Item>\n                    </div>\n                  ))}\n                </div>\n              </Menu.Items>\n            </Transition>\n          </Menu>\n        </div>\n      </header>\n\n      <main className={styles.main}>\n        <div className={styles['main-container']}>\n          {error ? (\n            <p>Something wnt wrong.</p>\n          ) : ! loading ? (\n            <Outlet context={{ user }} />\n          ) : null }\n          \n        </div>\n      </main>\n    </div>\n  );\n};\n\nexport default Layout;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}